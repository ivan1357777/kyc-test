{"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\",\"filename\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"// --- Ensure that profile.css exists --- \nconst fs = require('fs');\nconst path = require('path');\nconst cssPath = path.resolve(__dirname, 'profile.css');\nif (!fs.existsSync(cssPath)) {\n  // Create an empty profile.css file if it doesn't exist\n  fs.writeFileSync(cssPath, '');\n  console.log('Created empty profile.css file.');\n}\n\n// --- Tell Node to ignore CSS imports by returning an empty object ---\nrequire.extensions['.css'] = function (module, filename) {\n  module.exports = {};\n};\n\n// --- Babel register configuration (Development Only) ---\nrequire('@babel/register')({\n  presets: ['@babel/preset-react'],\n  extensions: ['.js', '.jsx']\n});\n\n// --- Replace ES module imports with CommonJS require statements ---\nconst React = require('react');\nconst {\n  useState,\n  useEffect\n} = React;\nconst {\n  useNavigate\n} = require('react-router-dom');\nrequire('./profile.css');\nconst Profile = () => {\n  // Basic profile states\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [profilePictureFile, setProfilePictureFile] = useState(null); // Store the actual file\n  const [walletAddress, setWalletAddress] = useState('');\n  const [country, setCountry] = useState('');\n  const [city, setCity] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [isAdult, setIsAdult] = useState(false); // 18+ confirmation\n  const [notifyQuestUpdates, setNotifyQuestUpdates] = useState(true);\n  const [notifyRewardAlerts, setNotifyRewardAlerts] = useState(true);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // Fetch user data from the API\n  useEffect(() => {\n    async function fetchUserData() {\n      try {\n        const response = await fetch('http://localhost:5000/api/users');\n        if (!response.ok) throw new Error('Failed to fetch user data');\n        const data = await response.json();\n        // Pick the first user if data is an array, otherwise use the returned object\n        const currentUser = Array.isArray(data) && data.length > 0 ? data[0] : data;\n        setUser(currentUser);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchUserData();\n  }, []);\n\n  // Pre-fill fields when user data is available\n  useEffect(() => {\n    if (user) {\n      setWalletAddress(user.walletAddress || '');\n      setCountry(user.country || '');\n      setCity(user.city || '');\n      setPhoneNumber(user.phoneNumber || '');\n      setIsAdult(user.isAdult || false);\n      // Load the stored profile picture if available\n      if (user.profilePicture) {\n        setProfilePicture(user.profilePicture);\n      }\n    }\n  }, [user]);\n\n  // Basic account actions\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    alert('Logged out successfully!');\n    navigate('/login');\n  };\n  const handleDeleteAccount = async () => {\n    if (window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) {\n      try {\n        const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\n          method: 'DELETE'\n        });\n        if (response.ok) {\n          alert('Account deleted successfully.');\n          navigate('/signup');\n        } else {\n          alert('Failed to delete account.');\n        }\n      } catch (error) {\n        console.error('Error deleting account:', error);\n        alert('An error occurred while deleting your account.');\n      }\n    }\n  };\n\n  // File/image handling\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setProfilePictureFile(file); // Save the actual file\n      setProfilePicture(URL.createObjectURL(file)); // For preview purposes\n    }\n  };\n\n  // Wallet input handling\n  const handleWalletChange = event => setWalletAddress(event.target.value);\n\n  // Save/update profile handler using FormData\n  const handleSaveProfile = async () => {\n    // Validate mandatory fields\n    if (!country || !city) {\n      alert('Country and City are required.');\n      return;\n    }\n    if (!isAdult) {\n      alert('You must confirm that you are 18+.');\n      return;\n    }\n\n    // Use FormData to include both text and file data\n    const formData = new FormData();\n    formData.append('walletAddress', walletAddress);\n    formData.append('country', country);\n    formData.append('city', city);\n    formData.append('phoneNumber', phoneNumber);\n    formData.append('isAdult', isAdult);\n    formData.append('notifyQuestUpdates', notifyQuestUpdates);\n    formData.append('notifyRewardAlerts', notifyRewardAlerts);\n    if (profilePictureFile) {\n      formData.append('profilePicture', profilePictureFile);\n    }\n    try {\n      // Note: Using user._id here ensures a valid ObjectId is sent\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\n        method: 'PUT',\n        body: formData // No need to set Content-Type; browser sets it automatically\n      });\n      if (response.ok) {\n        alert('Profile updated successfully!');\n      } else {\n        alert('Failed to update profile.');\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      alert('An error occurred while updating your profile.');\n    }\n  };\n\n  // Security & Anti-Fraud: manual account lock\n  const handleLockAccount = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}/lock`, {\n        method: 'POST'\n      });\n      if (response.ok) {\n        alert('Account has been locked. Please contact support to unlock.');\n      } else {\n        alert('Failed to lock account.');\n      }\n    } catch (error) {\n      console.error('Error locking account:', error);\n      alert('An error occurred while locking your account.');\n    }\n  };\n\n  // Placeholder for password reset\n  const handleResetPassword = () => {\n    alert('Password reset functionality is not implemented yet.');\n  };\n\n  // Placeholder for 2FA setup\n  const handleSetup2FA = () => {\n    alert('2FA setup functionality is not implemented yet.');\n  };\n  const handleApplyKYC = () => {\n    alert('KYC application functionality is not implemented yet.');\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", null, \"Loading user data...\");\n  if (!user) return /*#__PURE__*/React.createElement(\"p\", null, \"No user data available.\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-page\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"close-btn\",\n    onClick: () => navigate('/')\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"close\"\n  }, \"\\u274C\")), /*#__PURE__*/React.createElement(\"h1\", null, \"Profile\"), /*#__PURE__*/React.createElement(\"p\", null, \"Welcome, \", /*#__PURE__*/React.createElement(\"strong\", null, user.username || user.firstName || 'Unknown User'), \"!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-details\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-picture\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: profilePicture || user.profilePicture || 'default-profile.png',\n    alt: \"Profile\",\n    className: \"profile-img\"\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: handleImageChange,\n    className: \"upload-file\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Username:\"), /*#__PURE__*/React.createElement(\"p\", null, user.username || 'Not set')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Email:\"), /*#__PURE__*/React.createElement(\"p\", null, user.email || 'No email available', ' ', \"(\", /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"verified\"\n  }, \"\\u2705\"), \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Wallet Phantom:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: walletAddress,\n    onChange: handleWalletChange,\n    placeholder: \"Enter Phantom Wallet Address\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"18+ Confirmation:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: isAdult,\n    onChange: e => setIsAdult(e.target.checked)\n  }), ' ', \"I confirm that I am 18+\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Country:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: country,\n    onChange: e => setCountry(e.target.value),\n    placeholder: \"Enter your country\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"City:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: city,\n    onChange: e => setCity(e.target.value),\n    placeholder: \"Enter your city\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Phone Number:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: phoneNumber,\n    onChange: e => setPhoneNumber(e.target.value),\n    placeholder: \"Enter your phone number (optional)\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Notification Preferences:\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: notifyQuestUpdates,\n    onChange: e => setNotifyQuestUpdates(e.target.checked)\n  }), ' ', \"Quest Updates\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: notifyRewardAlerts,\n    onChange: e => setNotifyRewardAlerts(e.target.checked)\n  }), ' ', \"Reward Alerts\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-group\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSaveProfile,\n    className: \"btn\"\n  }, \"Save Profile\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    className: \"logout-button btn\"\n  }, \"Logout\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDeleteAccount,\n    className: \"delete-button btn\",\n    style: {\n      color: 'red'\n    }\n  }, \"Delete Account\")))));\n};\nmodule.exports = Profile;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiY3NzUGF0aCIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJleGlzdHNTeW5jIiwid3JpdGVGaWxlU3luYyIsImNvbnNvbGUiLCJsb2ciLCJleHRlbnNpb25zIiwibW9kdWxlIiwiZmlsZW5hbWUiLCJleHBvcnRzIiwicHJlc2V0cyIsIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VOYXZpZ2F0ZSIsIlByb2ZpbGUiLCJwcm9maWxlUGljdHVyZSIsInNldFByb2ZpbGVQaWN0dXJlIiwicHJvZmlsZVBpY3R1cmVGaWxlIiwic2V0UHJvZmlsZVBpY3R1cmVGaWxlIiwid2FsbGV0QWRkcmVzcyIsInNldFdhbGxldEFkZHJlc3MiLCJjb3VudHJ5Iiwic2V0Q291bnRyeSIsImNpdHkiLCJzZXRDaXR5IiwicGhvbmVOdW1iZXIiLCJzZXRQaG9uZU51bWJlciIsImlzQWR1bHQiLCJzZXRJc0FkdWx0Iiwibm90aWZ5UXVlc3RVcGRhdGVzIiwic2V0Tm90aWZ5UXVlc3RVcGRhdGVzIiwibm90aWZ5UmV3YXJkQWxlcnRzIiwic2V0Tm90aWZ5UmV3YXJkQWxlcnRzIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsIm5hdmlnYXRlIiwiZmV0Y2hVc2VyRGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJjdXJyZW50VXNlciIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImVycm9yIiwiaGFuZGxlTG9nb3V0IiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsImFsZXJ0IiwiaGFuZGxlRGVsZXRlQWNjb3VudCIsIndpbmRvdyIsImNvbmZpcm0iLCJfaWQiLCJtZXRob2QiLCJoYW5kbGVJbWFnZUNoYW5nZSIsImV2ZW50IiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaGFuZGxlV2FsbGV0Q2hhbmdlIiwidmFsdWUiLCJoYW5kbGVTYXZlUHJvZmlsZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJib2R5IiwiaGFuZGxlTG9ja0FjY291bnQiLCJoYW5kbGVSZXNldFBhc3N3b3JkIiwiaGFuZGxlU2V0dXAyRkEiLCJoYW5kbGVBcHBseUtZQyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwicm9sZSIsInVzZXJuYW1lIiwiZmlyc3ROYW1lIiwic3JjIiwiYWx0IiwidHlwZSIsImFjY2VwdCIsIm9uQ2hhbmdlIiwiZW1haWwiLCJwbGFjZWhvbGRlciIsImNoZWNrZWQiLCJlIiwic3R5bGUiLCJjb2xvciJdLCJzb3VyY2VSb290IjoiRTpcXFdlYnNpdGVcXEtZQ1xca3ljLXByb2plY3RcXHNlcnZlclxcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gLS0tIEVuc3VyZSB0aGF0IHByb2ZpbGUuY3NzIGV4aXN0cyAtLS0gXHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuY29uc3QgY3NzUGF0aCA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdwcm9maWxlLmNzcycpO1xyXG5pZiAoIWZzLmV4aXN0c1N5bmMoY3NzUGF0aCkpIHtcclxuICAvLyBDcmVhdGUgYW4gZW1wdHkgcHJvZmlsZS5jc3MgZmlsZSBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgZnMud3JpdGVGaWxlU3luYyhjc3NQYXRoLCAnJyk7XHJcbiAgY29uc29sZS5sb2coJ0NyZWF0ZWQgZW1wdHkgcHJvZmlsZS5jc3MgZmlsZS4nKTtcclxufVxyXG5cclxuLy8gLS0tIFRlbGwgTm9kZSB0byBpZ25vcmUgQ1NTIGltcG9ydHMgYnkgcmV0dXJuaW5nIGFuIGVtcHR5IG9iamVjdCAtLS1cclxucmVxdWlyZS5leHRlbnNpb25zWycuY3NzJ10gPSBmdW5jdGlvbiAobW9kdWxlLCBmaWxlbmFtZSkge1xyXG4gIG1vZHVsZS5leHBvcnRzID0ge307XHJcbn07XHJcblxyXG4vLyAtLS0gQmFiZWwgcmVnaXN0ZXIgY29uZmlndXJhdGlvbiAoRGV2ZWxvcG1lbnQgT25seSkgLS0tXHJcbnJlcXVpcmUoJ0BiYWJlbC9yZWdpc3RlcicpKHtcclxuICBwcmVzZXRzOiBbJ0BiYWJlbC9wcmVzZXQtcmVhY3QnXSxcclxuICBleHRlbnNpb25zOiBbJy5qcycsICcuanN4J11cclxufSk7XHJcblxyXG4vLyAtLS0gUmVwbGFjZSBFUyBtb2R1bGUgaW1wb3J0cyB3aXRoIENvbW1vbkpTIHJlcXVpcmUgc3RhdGVtZW50cyAtLS1cclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5jb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSA9IFJlYWN0O1xyXG5jb25zdCB7IHVzZU5hdmlnYXRlIH0gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tJyk7XHJcbnJlcXVpcmUoJy4vcHJvZmlsZS5jc3MnKTtcclxuXHJcbmNvbnN0IFByb2ZpbGUgPSAoKSA9PiB7XHJcbiAgLy8gQmFzaWMgcHJvZmlsZSBzdGF0ZXNcclxuICBjb25zdCBbcHJvZmlsZVBpY3R1cmUsIHNldFByb2ZpbGVQaWN0dXJlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtwcm9maWxlUGljdHVyZUZpbGUsIHNldFByb2ZpbGVQaWN0dXJlRmlsZV0gPSB1c2VTdGF0ZShudWxsKTsgLy8gU3RvcmUgdGhlIGFjdHVhbCBmaWxlXHJcbiAgY29uc3QgW3dhbGxldEFkZHJlc3MsIHNldFdhbGxldEFkZHJlc3NdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtjb3VudHJ5LCBzZXRDb3VudHJ5XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbY2l0eSwgc2V0Q2l0eV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3Bob25lTnVtYmVyLCBzZXRQaG9uZU51bWJlcl0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2lzQWR1bHQsIHNldElzQWR1bHRdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyAxOCsgY29uZmlybWF0aW9uXHJcbiAgY29uc3QgW25vdGlmeVF1ZXN0VXBkYXRlcywgc2V0Tm90aWZ5UXVlc3RVcGRhdGVzXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtub3RpZnlSZXdhcmRBbGVydHMsIHNldE5vdGlmeVJld2FyZEFsZXJ0c10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcblxyXG4gIC8vIEZldGNoIHVzZXIgZGF0YSBmcm9tIHRoZSBBUElcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hVc2VyRGF0YSgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3VzZXJzJyk7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdXNlciBkYXRhJyk7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAvLyBQaWNrIHRoZSBmaXJzdCB1c2VyIGlmIGRhdGEgaXMgYW4gYXJyYXksIG90aGVyd2lzZSB1c2UgdGhlIHJldHVybmVkIG9iamVjdFxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDAgPyBkYXRhWzBdIDogZGF0YTtcclxuICAgICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBmZXRjaFVzZXJEYXRhKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBQcmUtZmlsbCBmaWVsZHMgd2hlbiB1c2VyIGRhdGEgaXMgYXZhaWxhYmxlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh1c2VyKSB7XHJcbiAgICAgIHNldFdhbGxldEFkZHJlc3ModXNlci53YWxsZXRBZGRyZXNzIHx8ICcnKTtcclxuICAgICAgc2V0Q291bnRyeSh1c2VyLmNvdW50cnkgfHwgJycpO1xyXG4gICAgICBzZXRDaXR5KHVzZXIuY2l0eSB8fCAnJyk7XHJcbiAgICAgIHNldFBob25lTnVtYmVyKHVzZXIucGhvbmVOdW1iZXIgfHwgJycpO1xyXG4gICAgICBzZXRJc0FkdWx0KHVzZXIuaXNBZHVsdCB8fCBmYWxzZSk7XHJcbiAgICAgIC8vIExvYWQgdGhlIHN0b3JlZCBwcm9maWxlIHBpY3R1cmUgaWYgYXZhaWxhYmxlXHJcbiAgICAgIGlmICh1c2VyLnByb2ZpbGVQaWN0dXJlKSB7XHJcbiAgICAgICAgc2V0UHJvZmlsZVBpY3R1cmUodXNlci5wcm9maWxlUGljdHVyZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbdXNlcl0pO1xyXG5cclxuICAvLyBCYXNpYyBhY2NvdW50IGFjdGlvbnNcclxuICBjb25zdCBoYW5kbGVMb2dvdXQgPSAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xyXG4gICAgYWxlcnQoJ0xvZ2dlZCBvdXQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgbmF2aWdhdGUoJy9sb2dpbicpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUFjY291bnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHdpbmRvdy5jb25maXJtKFxyXG4gICAgICAgICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHlvdXIgYWNjb3VudD8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4nXHJcbiAgICAgIClcclxuICAgICkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdXNlcnMvJHt1c2VyLl9pZH1gLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICBhbGVydCgnQWNjb3VudCBkZWxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICAgIG5hdmlnYXRlKCcvc2lnbnVwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGFjY291bnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIGFsZXJ0KCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBkZWxldGluZyB5b3VyIGFjY291bnQuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGaWxlL2ltYWdlIGhhbmRsaW5nXHJcbiAgY29uc3QgaGFuZGxlSW1hZ2VDaGFuZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XHJcbiAgICBpZiAoZmlsZSkge1xyXG4gICAgICBzZXRQcm9maWxlUGljdHVyZUZpbGUoZmlsZSk7IC8vIFNhdmUgdGhlIGFjdHVhbCBmaWxlXHJcbiAgICAgIHNldFByb2ZpbGVQaWN0dXJlKFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkpOyAvLyBGb3IgcHJldmlldyBwdXJwb3Nlc1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFdhbGxldCBpbnB1dCBoYW5kbGluZ1xyXG4gIGNvbnN0IGhhbmRsZVdhbGxldENoYW5nZSA9IChldmVudCkgPT4gc2V0V2FsbGV0QWRkcmVzcyhldmVudC50YXJnZXQudmFsdWUpO1xyXG5cclxuICAvLyBTYXZlL3VwZGF0ZSBwcm9maWxlIGhhbmRsZXIgdXNpbmcgRm9ybURhdGFcclxuICBjb25zdCBoYW5kbGVTYXZlUHJvZmlsZSA9IGFzeW5jICgpID0+IHtcclxuICAgIC8vIFZhbGlkYXRlIG1hbmRhdG9yeSBmaWVsZHNcclxuICAgIGlmICghY291bnRyeSB8fCAhY2l0eSkge1xyXG4gICAgICBhbGVydCgnQ291bnRyeSBhbmQgQ2l0eSBhcmUgcmVxdWlyZWQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghaXNBZHVsdCkge1xyXG4gICAgICBhbGVydCgnWW91IG11c3QgY29uZmlybSB0aGF0IHlvdSBhcmUgMTgrLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIEZvcm1EYXRhIHRvIGluY2x1ZGUgYm90aCB0ZXh0IGFuZCBmaWxlIGRhdGFcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3dhbGxldEFkZHJlc3MnLCB3YWxsZXRBZGRyZXNzKTtcclxuICAgIGZvcm1EYXRhLmFwcGVuZCgnY291bnRyeScsIGNvdW50cnkpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdjaXR5JywgY2l0eSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3Bob25lTnVtYmVyJywgcGhvbmVOdW1iZXIpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdpc0FkdWx0JywgaXNBZHVsdCk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ25vdGlmeVF1ZXN0VXBkYXRlcycsIG5vdGlmeVF1ZXN0VXBkYXRlcyk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ25vdGlmeVJld2FyZEFsZXJ0cycsIG5vdGlmeVJld2FyZEFsZXJ0cyk7XHJcblxyXG4gICAgaWYgKHByb2ZpbGVQaWN0dXJlRmlsZSkge1xyXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Byb2ZpbGVQaWN0dXJlJywgcHJvZmlsZVBpY3R1cmVGaWxlKTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBOb3RlOiBVc2luZyB1c2VyLl9pZCBoZXJlIGVuc3VyZXMgYSB2YWxpZCBPYmplY3RJZCBpcyBzZW50XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdXNlcnMvJHt1c2VyLl9pZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICBib2R5OiBmb3JtRGF0YSwgLy8gTm8gbmVlZCB0byBzZXQgQ29udGVudC1UeXBlOyBicm93c2VyIHNldHMgaXQgYXV0b21hdGljYWxseVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGFsZXJ0KCdQcm9maWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUuJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2ZpbGU6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydCgnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgeW91ciBwcm9maWxlLicpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFNlY3VyaXR5ICYgQW50aS1GcmF1ZDogbWFudWFsIGFjY291bnQgbG9ja1xyXG4gIGNvbnN0IGhhbmRsZUxvY2tBY2NvdW50ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS91c2Vycy8ke3VzZXIuX2lkfS9sb2NrYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBhbGVydCgnQWNjb3VudCBoYXMgYmVlbiBsb2NrZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQgdG8gdW5sb2NrLicpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gbG9jayBhY2NvdW50LicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2NraW5nIGFjY291bnQ6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydCgnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgbG9ja2luZyB5b3VyIGFjY291bnQuJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gUGxhY2Vob2xkZXIgZm9yIHBhc3N3b3JkIHJlc2V0XHJcbiAgY29uc3QgaGFuZGxlUmVzZXRQYXNzd29yZCA9ICgpID0+IHtcclxuICAgIGFsZXJ0KCdQYXNzd29yZCByZXNldCBmdW5jdGlvbmFsaXR5IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuJyk7XHJcbiAgfTtcclxuXHJcbiAgLy8gUGxhY2Vob2xkZXIgZm9yIDJGQSBzZXR1cFxyXG4gIGNvbnN0IGhhbmRsZVNldHVwMkZBID0gKCkgPT4ge1xyXG4gICAgYWxlcnQoJzJGQSBzZXR1cCBmdW5jdGlvbmFsaXR5IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuJyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQXBwbHlLWUMgPSAoKSA9PiB7XHJcbiAgICBhbGVydCgnS1lDIGFwcGxpY2F0aW9uIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGltcGxlbWVudGVkIHlldC4nKTtcclxuICB9O1xyXG5cclxuICBpZiAobG9hZGluZykgcmV0dXJuIDxwPkxvYWRpbmcgdXNlciBkYXRhLi4uPC9wPjtcclxuICBpZiAoIXVzZXIpIHJldHVybiA8cD5ObyB1c2VyIGRhdGEgYXZhaWxhYmxlLjwvcD47XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtcGFnZVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2xvc2UtYnRuXCIgb25DbGljaz17KCkgPT4gbmF2aWdhdGUoJy8nKX0+XHJcbiAgICAgICAgICA8c3BhbiByb2xlPVwiaW1nXCIgYXJpYS1sYWJlbD1cImNsb3NlXCI+4p2MPC9zcGFuPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8aDE+UHJvZmlsZTwvaDE+XHJcbiAgICAgICAgPHA+XHJcbiAgICAgICAgICBXZWxjb21lLCA8c3Ryb25nPnt1c2VyLnVzZXJuYW1lIHx8IHVzZXIuZmlyc3ROYW1lIHx8ICdVbmtub3duIFVzZXInfTwvc3Ryb25nPiFcclxuICAgICAgICA8L3A+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1kZXRhaWxzXCI+XHJcbiAgICAgICAgICB7LyogUHJvZmlsZSBQaWN0dXJlICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXBpY3R1cmVcIj5cclxuICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgIHNyYz17cHJvZmlsZVBpY3R1cmUgfHwgdXNlci5wcm9maWxlUGljdHVyZSB8fCAnZGVmYXVsdC1wcm9maWxlLnBuZyd9XHJcbiAgICAgICAgICAgICAgYWx0PVwiUHJvZmlsZVwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvZmlsZS1pbWdcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgb25DaGFuZ2U9e2hhbmRsZUltYWdlQ2hhbmdlfSBjbGFzc05hbWU9XCJ1cGxvYWQtZmlsZVwiIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQmFzaWMgUHJvZmlsZSBJbmZvcm1hdGlvbiAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5Vc2VybmFtZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8cD57dXNlci51c2VybmFtZSB8fCAnTm90IHNldCd9PC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWluZm9cIj5cclxuICAgICAgICAgICAgPGxhYmVsPkVtYWlsOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgIHt1c2VyLmVtYWlsIHx8ICdObyBlbWFpbCBhdmFpbGFibGUnfXsnICd9XHJcbiAgICAgICAgICAgICAgKDxzcGFuIHJvbGU9XCJpbWdcIiBhcmlhLWxhYmVsPVwidmVyaWZpZWRcIj7inIU8L3NwYW4+KVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+V2FsbGV0IFBoYW50b206PC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXt3YWxsZXRBZGRyZXNzfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVXYWxsZXRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBQaGFudG9tIFdhbGxldCBBZGRyZXNzXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD4xOCsgQ29uZmlybWF0aW9uOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgY2hlY2tlZD17aXNBZHVsdH1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElzQWR1bHQoZS50YXJnZXQuY2hlY2tlZCl9XHJcbiAgICAgICAgICAgIC8+eycgJ31cclxuICAgICAgICAgICAgSSBjb25maXJtIHRoYXQgSSBhbSAxOCtcclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5Db3VudHJ5OjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICB2YWx1ZT17Y291bnRyeX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENvdW50cnkoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBjb3VudHJ5XCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5DaXR5OjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICB2YWx1ZT17Y2l0eX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENpdHkoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBjaXR5XCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5QaG9uZSBOdW1iZXI6PC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtwaG9uZU51bWJlcn1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBob25lTnVtYmVyKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgcGhvbmUgbnVtYmVyIChvcHRpb25hbClcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5Ob3RpZmljYXRpb24gUHJlZmVyZW5jZXM6PC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtub3RpZnlRdWVzdFVwZGF0ZXN9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5vdGlmeVF1ZXN0VXBkYXRlcyhlLnRhcmdldC5jaGVja2VkKX1cclxuICAgICAgICAgICAgICAvPnsnICd9XHJcbiAgICAgICAgICAgICAgUXVlc3QgVXBkYXRlc1xyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtub3RpZnlSZXdhcmRBbGVydHN9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5vdGlmeVJld2FyZEFsZXJ0cyhlLnRhcmdldC5jaGVja2VkKX1cclxuICAgICAgICAgICAgICAvPnsnICd9XHJcbiAgICAgICAgICAgICAgUmV3YXJkIEFsZXJ0c1xyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBBY3Rpb25zICYgU2V0dGluZ3MgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1ncm91cFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVNhdmVQcm9maWxlfSBjbGFzc05hbWU9XCJidG5cIj5cclxuICAgICAgICAgICAgICBTYXZlIFByb2ZpbGVcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlTG9nb3V0fSBjbGFzc05hbWU9XCJsb2dvdXQtYnV0dG9uIGJ0blwiPlxyXG4gICAgICAgICAgICAgIExvZ291dFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVEZWxldGVBY2NvdW50fSBjbGFzc05hbWU9XCJkZWxldGUtYnV0dG9uIGJ0blwiIHN0eWxlPXt7IGNvbG9yOiAncmVkJyB9fT5cclxuICAgICAgICAgICAgICBEZWxldGUgQWNjb3VudFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJc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","map":{"version":3,"names":["fs","require","path","cssPath","resolve","__dirname","existsSync","writeFileSync","console","log","extensions","module","filename","exports","presets","React","useState","useEffect","useNavigate","Profile","profilePicture","setProfilePicture","profilePictureFile","setProfilePictureFile","walletAddress","setWalletAddress","country","setCountry","city","setCity","phoneNumber","setPhoneNumber","isAdult","setIsAdult","notifyQuestUpdates","setNotifyQuestUpdates","notifyRewardAlerts","setNotifyRewardAlerts","user","setUser","loading","setLoading","navigate","fetchUserData","response","fetch","ok","Error","data","json","currentUser","Array","isArray","length","error","handleLogout","localStorage","removeItem","alert","handleDeleteAccount","window","confirm","_id","method","handleImageChange","event","file","target","files","URL","createObjectURL","handleWalletChange","value","handleSaveProfile","formData","FormData","append","body","handleLockAccount","handleResetPassword","handleSetup2FA","handleApplyKYC","createElement","className","onClick","role","username","firstName","src","alt","type","accept","onChange","email","placeholder","checked","e","style","color"],"sourceRoot":"E:\\Website\\KYC\\kyc-project\\server\\","sources":["server.js"],"sourcesContent":["// --- Ensure that profile.css exists --- \r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst cssPath = path.resolve(__dirname, 'profile.css');\r\nif (!fs.existsSync(cssPath)) {\r\n  // Create an empty profile.css file if it doesn't exist\r\n  fs.writeFileSync(cssPath, '');\r\n  console.log('Created empty profile.css file.');\r\n}\r\n\r\n// --- Tell Node to ignore CSS imports by returning an empty object ---\r\nrequire.extensions['.css'] = function (module, filename) {\r\n  module.exports = {};\r\n};\r\n\r\n// --- Babel register configuration (Development Only) ---\r\nrequire('@babel/register')({\r\n  presets: ['@babel/preset-react'],\r\n  extensions: ['.js', '.jsx']\r\n});\r\n\r\n// --- Replace ES module imports with CommonJS require statements ---\r\nconst React = require('react');\r\nconst { useState, useEffect } = React;\r\nconst { useNavigate } = require('react-router-dom');\r\nrequire('./profile.css');\r\n\r\nconst Profile = () => {\r\n  // Basic profile states\r\n  const [profilePicture, setProfilePicture] = useState(null);\r\n  const [profilePictureFile, setProfilePictureFile] = useState(null); // Store the actual file\r\n  const [walletAddress, setWalletAddress] = useState('');\r\n  const [country, setCountry] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [isAdult, setIsAdult] = useState(false); // 18+ confirmation\r\n  const [notifyQuestUpdates, setNotifyQuestUpdates] = useState(true);\r\n  const [notifyRewardAlerts, setNotifyRewardAlerts] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch user data from the API\r\n  useEffect(() => {\r\n    async function fetchUserData() {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/users');\r\n        if (!response.ok) throw new Error('Failed to fetch user data');\r\n        const data = await response.json();\r\n        // Pick the first user if data is an array, otherwise use the returned object\r\n        const currentUser = Array.isArray(data) && data.length > 0 ? data[0] : data;\r\n        setUser(currentUser);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  // Pre-fill fields when user data is available\r\n  useEffect(() => {\r\n    if (user) {\r\n      setWalletAddress(user.walletAddress || '');\r\n      setCountry(user.country || '');\r\n      setCity(user.city || '');\r\n      setPhoneNumber(user.phoneNumber || '');\r\n      setIsAdult(user.isAdult || false);\r\n      // Load the stored profile picture if available\r\n      if (user.profilePicture) {\r\n        setProfilePicture(user.profilePicture);\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  // Basic account actions\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    alert('Logged out successfully!');\r\n    navigate('/login');\r\n  };\r\n\r\n  const handleDeleteAccount = async () => {\r\n    if (\r\n      window.confirm(\r\n        'Are you sure you want to delete your account? This action cannot be undone.'\r\n      )\r\n    ) {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\r\n          method: 'DELETE'\r\n        });\r\n        if (response.ok) {\r\n          alert('Account deleted successfully.');\r\n          navigate('/signup');\r\n        } else {\r\n          alert('Failed to delete account.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting account:', error);\r\n        alert('An error occurred while deleting your account.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // File/image handling\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setProfilePictureFile(file); // Save the actual file\r\n      setProfilePicture(URL.createObjectURL(file)); // For preview purposes\r\n    }\r\n  };\r\n\r\n  // Wallet input handling\r\n  const handleWalletChange = (event) => setWalletAddress(event.target.value);\r\n\r\n  // Save/update profile handler using FormData\r\n  const handleSaveProfile = async () => {\r\n    // Validate mandatory fields\r\n    if (!country || !city) {\r\n      alert('Country and City are required.');\r\n      return;\r\n    }\r\n    if (!isAdult) {\r\n      alert('You must confirm that you are 18+.');\r\n      return;\r\n    }\r\n\r\n    // Use FormData to include both text and file data\r\n    const formData = new FormData();\r\n    formData.append('walletAddress', walletAddress);\r\n    formData.append('country', country);\r\n    formData.append('city', city);\r\n    formData.append('phoneNumber', phoneNumber);\r\n    formData.append('isAdult', isAdult);\r\n    formData.append('notifyQuestUpdates', notifyQuestUpdates);\r\n    formData.append('notifyRewardAlerts', notifyRewardAlerts);\r\n\r\n    if (profilePictureFile) {\r\n      formData.append('profilePicture', profilePictureFile);\r\n    }\r\n\r\n    try {\r\n      // Note: Using user._id here ensures a valid ObjectId is sent\r\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\r\n        method: 'PUT',\r\n        body: formData, // No need to set Content-Type; browser sets it automatically\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Profile updated successfully!');\r\n      } else {\r\n        alert('Failed to update profile.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      alert('An error occurred while updating your profile.');\r\n    }\r\n  };\r\n\r\n  // Security & Anti-Fraud: manual account lock\r\n  const handleLockAccount = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}/lock`, {\r\n        method: 'POST'\r\n      });\r\n      if (response.ok) {\r\n        alert('Account has been locked. Please contact support to unlock.');\r\n      } else {\r\n        alert('Failed to lock account.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error locking account:', error);\r\n      alert('An error occurred while locking your account.');\r\n    }\r\n  };\r\n\r\n  // Placeholder for password reset\r\n  const handleResetPassword = () => {\r\n    alert('Password reset functionality is not implemented yet.');\r\n  };\r\n\r\n  // Placeholder for 2FA setup\r\n  const handleSetup2FA = () => {\r\n    alert('2FA setup functionality is not implemented yet.');\r\n  };\r\n\r\n  const handleApplyKYC = () => {\r\n    alert('KYC application functionality is not implemented yet.');\r\n  };\r\n\r\n  if (loading) return <p>Loading user data...</p>;\r\n  if (!user) return <p>No user data available.</p>;\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <div className=\"profile-container\">\r\n        <span className=\"close-btn\" onClick={() => navigate('/')}>\r\n          <span role=\"img\" aria-label=\"close\"></span>\r\n        </span>\r\n        <h1>Profile</h1>\r\n        <p>\r\n          Welcome, <strong>{user.username || user.firstName || 'Unknown User'}</strong>!\r\n        </p>\r\n\r\n        <div className=\"profile-details\">\r\n          {/* Profile Picture */}\r\n          <div className=\"profile-picture\">\r\n            <img\r\n              src={profilePicture || user.profilePicture || 'default-profile.png'}\r\n              alt=\"Profile\"\r\n              className=\"profile-img\"\r\n            />\r\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} className=\"upload-file\" />\r\n          </div>\r\n\r\n          {/* Basic Profile Information */}\r\n          <div className=\"user-info\">\r\n            <label>Username:</label>\r\n            <p>{user.username || 'Not set'}</p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Email:</label>\r\n            <p>\r\n              {user.email || 'No email available'}{' '}\r\n              (<span role=\"img\" aria-label=\"verified\"></span>)\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Wallet Phantom:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={walletAddress}\r\n              onChange={handleWalletChange}\r\n              placeholder=\"Enter Phantom Wallet Address\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>18+ Confirmation:</label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={isAdult}\r\n              onChange={(e) => setIsAdult(e.target.checked)}\r\n            />{' '}\r\n            I confirm that I am 18+\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Country:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n              placeholder=\"Enter your country\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>City:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n              placeholder=\"Enter your city\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Phone Number:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={phoneNumber}\r\n              onChange={(e) => setPhoneNumber(e.target.value)}\r\n              placeholder=\"Enter your phone number (optional)\"\r\n            />\r\n          </div>\r\n\r\n          {/* Notification Preferences */}\r\n          <div className=\"user-info\">\r\n            <label>Notification Preferences:</label>\r\n            <div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={notifyQuestUpdates}\r\n                onChange={(e) => setNotifyQuestUpdates(e.target.checked)}\r\n              />{' '}\r\n              Quest Updates\r\n            </div>\r\n            <div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={notifyRewardAlerts}\r\n                onChange={(e) => setNotifyRewardAlerts(e.target.checked)}\r\n              />{' '}\r\n              Reward Alerts\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions & Settings */}\r\n          <div className=\"button-group\">\r\n            <button onClick={handleSaveProfile} className=\"btn\">\r\n              Save Profile\r\n            </button>\r\n            <button onClick={handleLogout} className=\"logout-button btn\">\r\n              Logout\r\n            </button>\r\n            <button onClick={handleDeleteAccount} className=\"delete-button btn\" style={{ color: 'red' }}>\r\n              Delete Account\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nmodule.exports = Profile;\r\n"],"mappings":"AAAA;AACA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,OAAO,GAAGD,IAAI,CAACE,OAAO,CAACC,SAAS,EAAE,aAAa,CAAC;AACtD,IAAI,CAACL,EAAE,CAACM,UAAU,CAACH,OAAO,CAAC,EAAE;EAC3B;EACAH,EAAE,CAACO,aAAa,CAACJ,OAAO,EAAE,EAAE,CAAC;EAC7BK,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;AAChD;;AAEA;AACAR,OAAO,CAACS,UAAU,CAAC,MAAM,CAAC,GAAG,UAAUC,MAAM,EAAEC,QAAQ,EAAE;EACvDD,MAAM,CAACE,OAAO,GAAG,CAAC,CAAC;AACrB,CAAC;;AAED;AACAZ,OAAO,CAAC,iBAAiB,CAAC,CAAC;EACzBa,OAAO,EAAE,CAAC,qBAAqB,CAAC;EAChCJ,UAAU,EAAE,CAAC,KAAK,EAAE,MAAM;AAC5B,CAAC,CAAC;;AAEF;AACA,MAAMK,KAAK,GAAGd,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAM;EAAEe,QAAQ;EAAEC;AAAU,CAAC,GAAGF,KAAK;AACrC,MAAM;EAAEG;AAAY,CAAC,GAAGjB,OAAO,CAAC,kBAAkB,CAAC;AACnDA,OAAO,CAAC,eAAe,CAAC;AAExB,MAAMkB,OAAO,GAAGA,CAAA,KAAM;EACpB;EACA,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACM,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACpE,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACkB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACoB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACsB,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM0B,QAAQ,GAAGxB,WAAW,CAAC,CAAC;;EAE9B;EACAD,SAAS,CAAC,MAAM;IACd,eAAe0B,aAAaA,CAAA,EAAG;MAC7B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,CAAC;QAC/D,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;QAC9D,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAClC;QACA,MAAMC,WAAW,GAAGC,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,IAAIA,IAAI,CAACK,MAAM,GAAG,CAAC,GAAGL,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI;QAC3ET,OAAO,CAACW,WAAW,CAAC;MACtB,CAAC,CAAC,OAAOI,KAAK,EAAE;QACd9C,OAAO,CAAC8C,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,SAAS;QACRb,UAAU,CAAC,KAAK,CAAC;MACnB;IACF;IACAE,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA1B,SAAS,CAAC,MAAM;IACd,IAAIqB,IAAI,EAAE;MACRb,gBAAgB,CAACa,IAAI,CAACd,aAAa,IAAI,EAAE,CAAC;MAC1CG,UAAU,CAACW,IAAI,CAACZ,OAAO,IAAI,EAAE,CAAC;MAC9BG,OAAO,CAACS,IAAI,CAACV,IAAI,IAAI,EAAE,CAAC;MACxBG,cAAc,CAACO,IAAI,CAACR,WAAW,IAAI,EAAE,CAAC;MACtCG,UAAU,CAACK,IAAI,CAACN,OAAO,IAAI,KAAK,CAAC;MACjC;MACA,IAAIM,IAAI,CAAClB,cAAc,EAAE;QACvBC,iBAAiB,CAACiB,IAAI,CAAClB,cAAc,CAAC;MACxC;IACF;EACF,CAAC,EAAE,CAACkB,IAAI,CAAC,CAAC;;EAEV;EACA,MAAMiB,YAAY,GAAGA,CAAA,KAAM;IACzBC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/BC,KAAK,CAAC,0BAA0B,CAAC;IACjChB,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMiB,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IACEC,MAAM,CAACC,OAAO,CACZ,6EACF,CAAC,EACD;MACA,IAAI;QACF,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCP,IAAI,CAACwB,GAAG,EAAE,EAAE;UAC1EC,MAAM,EAAE;QACV,CAAC,CAAC;QACF,IAAInB,QAAQ,CAACE,EAAE,EAAE;UACfY,KAAK,CAAC,+BAA+B,CAAC;UACtChB,QAAQ,CAAC,SAAS,CAAC;QACrB,CAAC,MAAM;UACLgB,KAAK,CAAC,2BAA2B,CAAC;QACpC;MACF,CAAC,CAAC,OAAOJ,KAAK,EAAE;QACd9C,OAAO,CAAC8C,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/CI,KAAK,CAAC,gDAAgD,CAAC;MACzD;IACF;EACF,CAAC;;EAED;EACA,MAAMM,iBAAiB,GAAIC,KAAK,IAAK;IACnC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,IAAIF,IAAI,EAAE;MACR3C,qBAAqB,CAAC2C,IAAI,CAAC,CAAC,CAAC;MAC7B7C,iBAAiB,CAACgD,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAAC,CAAC,CAAC;IAChD;EACF,CAAC;;EAED;EACA,MAAMK,kBAAkB,GAAIN,KAAK,IAAKxC,gBAAgB,CAACwC,KAAK,CAACE,MAAM,CAACK,KAAK,CAAC;;EAE1E;EACA,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC;IACA,IAAI,CAAC/C,OAAO,IAAI,CAACE,IAAI,EAAE;MACrB8B,KAAK,CAAC,gCAAgC,CAAC;MACvC;IACF;IACA,IAAI,CAAC1B,OAAO,EAAE;MACZ0B,KAAK,CAAC,oCAAoC,CAAC;MAC3C;IACF;;IAEA;IACA,MAAMgB,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEpD,aAAa,CAAC;IAC/CkD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAElD,OAAO,CAAC;IACnCgD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEhD,IAAI,CAAC;IAC7B8C,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE9C,WAAW,CAAC;IAC3C4C,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE5C,OAAO,CAAC;IACnC0C,QAAQ,CAACE,MAAM,CAAC,oBAAoB,EAAE1C,kBAAkB,CAAC;IACzDwC,QAAQ,CAACE,MAAM,CAAC,oBAAoB,EAAExC,kBAAkB,CAAC;IAEzD,IAAId,kBAAkB,EAAE;MACtBoD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEtD,kBAAkB,CAAC;IACvD;IAEA,IAAI;MACF;MACA,MAAMsB,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCP,IAAI,CAACwB,GAAG,EAAE,EAAE;QAC1EC,MAAM,EAAE,KAAK;QACbc,IAAI,EAAEH,QAAQ,CAAE;MAClB,CAAC,CAAC;MAEF,IAAI9B,QAAQ,CAACE,EAAE,EAAE;QACfY,KAAK,CAAC,+BAA+B,CAAC;MACxC,CAAC,MAAM;QACLA,KAAK,CAAC,2BAA2B,CAAC;MACpC;IACF,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACd9C,OAAO,CAAC8C,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CI,KAAK,CAAC,gDAAgD,CAAC;IACzD;EACF,CAAC;;EAED;EACA,MAAMoB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAMlC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCP,IAAI,CAACwB,GAAG,OAAO,EAAE;QAC/EC,MAAM,EAAE;MACV,CAAC,CAAC;MACF,IAAInB,QAAQ,CAACE,EAAE,EAAE;QACfY,KAAK,CAAC,4DAA4D,CAAC;MACrE,CAAC,MAAM;QACLA,KAAK,CAAC,yBAAyB,CAAC;MAClC;IACF,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACd9C,OAAO,CAAC8C,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CI,KAAK,CAAC,+CAA+C,CAAC;IACxD;EACF,CAAC;;EAED;EACA,MAAMqB,mBAAmB,GAAGA,CAAA,KAAM;IAChCrB,KAAK,CAAC,sDAAsD,CAAC;EAC/D,CAAC;;EAED;EACA,MAAMsB,cAAc,GAAGA,CAAA,KAAM;IAC3BtB,KAAK,CAAC,iDAAiD,CAAC;EAC1D,CAAC;EAED,MAAMuB,cAAc,GAAGA,CAAA,KAAM;IAC3BvB,KAAK,CAAC,uDAAuD,CAAC;EAChE,CAAC;EAED,IAAIlB,OAAO,EAAE,oBAAOzB,KAAA,CAAAmE,aAAA,YAAG,sBAAuB,CAAC;EAC/C,IAAI,CAAC5C,IAAI,EAAE,oBAAOvB,KAAA,CAAAmE,aAAA,YAAG,yBAA0B,CAAC;EAEhD,oBACEnE,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAc,gBAC3BpE,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAmB,gBAChCpE,KAAA,CAAAmE,aAAA;IAAMC,SAAS,EAAC,WAAW;IAACC,OAAO,EAAEA,CAAA,KAAM1C,QAAQ,CAAC,GAAG;EAAE,gBACvD3B,KAAA,CAAAmE,aAAA;IAAMG,IAAI,EAAC,KAAK;IAAC,cAAW;EAAO,GAAC,QAAO,CACvC,CAAC,eACPtE,KAAA,CAAAmE,aAAA,aAAI,SAAW,CAAC,eAChBnE,KAAA,CAAAmE,aAAA,YAAG,WACQ,eAAAnE,KAAA,CAAAmE,aAAA,iBAAS5C,IAAI,CAACgD,QAAQ,IAAIhD,IAAI,CAACiD,SAAS,IAAI,cAAuB,CAAC,KAC5E,CAAC,eAEJxE,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAiB,gBAE9BpE,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAiB,gBAC9BpE,KAAA,CAAAmE,aAAA;IACEM,GAAG,EAAEpE,cAAc,IAAIkB,IAAI,CAAClB,cAAc,IAAI,qBAAsB;IACpEqE,GAAG,EAAC,SAAS;IACbN,SAAS,EAAC;EAAa,CACxB,CAAC,eACFpE,KAAA,CAAAmE,aAAA;IAAOQ,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC,SAAS;IAACC,QAAQ,EAAE5B,iBAAkB;IAACmB,SAAS,EAAC;EAAa,CAAE,CACvF,CAAC,eAGNpE,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,WAAgB,CAAC,eACxBnE,KAAA,CAAAmE,aAAA,YAAI5C,IAAI,CAACgD,QAAQ,IAAI,SAAa,CAC/B,CAAC,eAENvE,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,QAAa,CAAC,eACrBnE,KAAA,CAAAmE,aAAA,YACG5C,IAAI,CAACuD,KAAK,IAAI,oBAAoB,EAAE,GAAG,EAAC,GACxC,eAAA9E,KAAA,CAAAmE,aAAA;IAAMG,IAAI,EAAC,KAAK;IAAC,cAAW;EAAU,GAAC,QAAO,CAAC,KAC/C,CACA,CAAC,eAENtE,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,iBAAsB,CAAC,eAC9BnE,KAAA,CAAAmE,aAAA;IACEQ,IAAI,EAAC,MAAM;IACXlB,KAAK,EAAEhD,aAAc;IACrBoE,QAAQ,EAAErB,kBAAmB;IAC7BuB,WAAW,EAAC;EAA8B,CAC3C,CACE,CAAC,eAEN/E,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,mBAAwB,CAAC,eAChCnE,KAAA,CAAAmE,aAAA;IACEQ,IAAI,EAAC,UAAU;IACfK,OAAO,EAAE/D,OAAQ;IACjB4D,QAAQ,EAAGI,CAAC,IAAK/D,UAAU,CAAC+D,CAAC,CAAC7B,MAAM,CAAC4B,OAAO;EAAE,CAC/C,CAAC,EAAC,GAAG,EAAC,yBAEJ,CAAC,eAENhF,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,UAAe,CAAC,eACvBnE,KAAA,CAAAmE,aAAA;IACEQ,IAAI,EAAC,MAAM;IACXlB,KAAK,EAAE9C,OAAQ;IACfkE,QAAQ,EAAGI,CAAC,IAAKrE,UAAU,CAACqE,CAAC,CAAC7B,MAAM,CAACK,KAAK,CAAE;IAC5CsB,WAAW,EAAC;EAAoB,CACjC,CACE,CAAC,eAEN/E,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,OAAY,CAAC,eACpBnE,KAAA,CAAAmE,aAAA;IACEQ,IAAI,EAAC,MAAM;IACXlB,KAAK,EAAE5C,IAAK;IACZgE,QAAQ,EAAGI,CAAC,IAAKnE,OAAO,CAACmE,CAAC,CAAC7B,MAAM,CAACK,KAAK,CAAE;IACzCsB,WAAW,EAAC;EAAiB,CAC9B,CACE,CAAC,eAEN/E,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,eAAoB,CAAC,eAC5BnE,KAAA,CAAAmE,aAAA;IACEQ,IAAI,EAAC,MAAM;IACXlB,KAAK,EAAE1C,WAAY;IACnB8D,QAAQ,EAAGI,CAAC,IAAKjE,cAAc,CAACiE,CAAC,CAAC7B,MAAM,CAACK,KAAK,CAAE;IAChDsB,WAAW,EAAC;EAAoC,CACjD,CACE,CAAC,eAGN/E,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAW,gBACxBpE,KAAA,CAAAmE,aAAA,gBAAO,2BAAgC,CAAC,eACxCnE,KAAA,CAAAmE,aAAA,2BACEnE,KAAA,CAAAmE,aAAA;IACEQ,IAAI,EAAC,UAAU;IACfK,OAAO,EAAE7D,kBAAmB;IAC5B0D,QAAQ,EAAGI,CAAC,IAAK7D,qBAAqB,CAAC6D,CAAC,CAAC7B,MAAM,CAAC4B,OAAO;EAAE,CAC1D,CAAC,EAAC,GAAG,EAAC,eAEJ,CAAC,eACNhF,KAAA,CAAAmE,aAAA,2BACEnE,KAAA,CAAAmE,aAAA;IACEQ,IAAI,EAAC,UAAU;IACfK,OAAO,EAAE3D,kBAAmB;IAC5BwD,QAAQ,EAAGI,CAAC,IAAK3D,qBAAqB,CAAC2D,CAAC,CAAC7B,MAAM,CAAC4B,OAAO;EAAE,CAC1D,CAAC,EAAC,GAAG,EAAC,eAEJ,CACF,CAAC,eAGNhF,KAAA,CAAAmE,aAAA;IAAKC,SAAS,EAAC;EAAc,gBAC3BpE,KAAA,CAAAmE,aAAA;IAAQE,OAAO,EAAEX,iBAAkB;IAACU,SAAS,EAAC;EAAK,GAAC,cAE5C,CAAC,eACTpE,KAAA,CAAAmE,aAAA;IAAQE,OAAO,EAAE7B,YAAa;IAAC4B,SAAS,EAAC;EAAmB,GAAC,QAErD,CAAC,eACTpE,KAAA,CAAAmE,aAAA;IAAQE,OAAO,EAAEzB,mBAAoB;IAACwB,SAAS,EAAC,mBAAmB;IAACc,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAM;EAAE,GAAC,gBAErF,CACL,CACF,CACF,CACF,CAAC;AAEV,CAAC;AAEDvF,MAAM,CAACE,OAAO,GAAGM,OAAO","ignoreList":[]}},"mtime":1739616870028},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\",\"filename\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\\\\server.cjs\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Website\\\\KYC\\\\kyc-project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"// --- Babel register configuration (Development Only) ---\nrequire('@babel/register')({\n  presets: ['@babel/preset-react'],\n  extensions: ['.js', '.jsx']\n});\n\n// Replace ES module imports with CommonJS require statements\nconst React = require('react');\nconst {\n  useState,\n  useEffect\n} = React;\nconst {\n  useNavigate\n} = require('react-router-dom');\nrequire('./profile.css'); // Note: In Node, CSS isn't processed, but this line remains per your request.\n\nconst Profile = () => {\n  // Basic profile states\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [profilePictureFile, setProfilePictureFile] = useState(null); // Store the actual file\n  const [walletAddress, setWalletAddress] = useState('');\n  const [country, setCountry] = useState('');\n  const [city, setCity] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [isAdult, setIsAdult] = useState(false); // 18+ confirmation\n  const [notifyQuestUpdates, setNotifyQuestUpdates] = useState(true);\n  const [notifyRewardAlerts, setNotifyRewardAlerts] = useState(true);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // Fetch user data from the API\n  useEffect(() => {\n    async function fetchUserData() {\n      try {\n        const response = await fetch('http://localhost:5000/api/users');\n        if (!response.ok) throw new Error('Failed to fetch user data');\n        const data = await response.json();\n        // Pick the first user if data is an array, otherwise use the returned object\n        const currentUser = Array.isArray(data) && data.length > 0 ? data[0] : data;\n        setUser(currentUser);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchUserData();\n  }, []);\n\n  // Pre-fill fields when user data is available\n  useEffect(() => {\n    if (user) {\n      setWalletAddress(user.walletAddress || '');\n      setCountry(user.country || '');\n      setCity(user.city || '');\n      setPhoneNumber(user.phoneNumber || '');\n      setIsAdult(user.isAdult || false);\n      // Load the stored profile picture if available\n      if (user.profilePicture) {\n        setProfilePicture(user.profilePicture);\n      }\n    }\n  }, [user]);\n\n  // Basic account actions\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    alert('Logged out successfully!');\n    navigate('/login');\n  };\n  const handleDeleteAccount = async () => {\n    if (window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) {\n      try {\n        const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\n          method: 'DELETE'\n        });\n        if (response.ok) {\n          alert('Account deleted successfully.');\n          navigate('/signup');\n        } else {\n          alert('Failed to delete account.');\n        }\n      } catch (error) {\n        console.error('Error deleting account:', error);\n        alert('An error occurred while deleting your account.');\n      }\n    }\n  };\n\n  // File/image handling\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setProfilePictureFile(file); // Save the actual file\n      setProfilePicture(URL.createObjectURL(file)); // For preview purposes\n    }\n  };\n\n  // Wallet input handling\n  const handleWalletChange = event => setWalletAddress(event.target.value);\n\n  // Save/update profile handler using FormData\n  const handleSaveProfile = async () => {\n    // Validate mandatory fields\n    if (!country || !city) {\n      alert('Country and City are required.');\n      return;\n    }\n    if (!isAdult) {\n      alert('You must confirm that you are 18+.');\n      return;\n    }\n\n    // Use FormData to include both text and file data\n    const formData = new FormData();\n    formData.append('walletAddress', walletAddress);\n    formData.append('country', country);\n    formData.append('city', city);\n    formData.append('phoneNumber', phoneNumber);\n    formData.append('isAdult', isAdult);\n    formData.append('notifyQuestUpdates', notifyQuestUpdates);\n    formData.append('notifyRewardAlerts', notifyRewardAlerts);\n    if (profilePictureFile) {\n      formData.append('profilePicture', profilePictureFile);\n    }\n    try {\n      // Note: Using user._id here ensures a valid ObjectId is sent\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\n        method: 'PUT',\n        body: formData // No need to set Content-Type; browser sets it automatically\n      });\n      if (response.ok) {\n        alert('Profile updated successfully!');\n      } else {\n        alert('Failed to update profile.');\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      alert('An error occurred while updating your profile.');\n    }\n  };\n\n  // Security & Anti-Fraud: manual account lock\n  const handleLockAccount = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}/lock`, {\n        method: 'POST'\n      });\n      if (response.ok) {\n        alert('Account has been locked. Please contact support to unlock.');\n      } else {\n        alert('Failed to lock account.');\n      }\n    } catch (error) {\n      console.error('Error locking account:', error);\n      alert('An error occurred while locking your account.');\n    }\n  };\n\n  // Placeholder for password reset\n  const handleResetPassword = () => {\n    alert('Password reset functionality is not implemented yet.');\n  };\n\n  // Placeholder for 2FA setup\n  const handleSetup2FA = () => {\n    alert('2FA setup functionality is not implemented yet.');\n  };\n  const handleApplyKYC = () => {\n    alert('KYC application functionality is not implemented yet.');\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", null, \"Loading user data...\");\n  if (!user) return /*#__PURE__*/React.createElement(\"p\", null, \"No user data available.\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-page\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"close-btn\",\n    onClick: () => navigate('/')\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"close\"\n  }, \"\\u274C\")), /*#__PURE__*/React.createElement(\"h1\", null, \"Profile\"), /*#__PURE__*/React.createElement(\"p\", null, \"Welcome, \", /*#__PURE__*/React.createElement(\"strong\", null, user.username || user.firstName || 'Unknown User'), \"!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-details\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-picture\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: profilePicture || user.profilePicture || 'default-profile.png',\n    alt: \"Profile\",\n    className: \"profile-img\"\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: handleImageChange,\n    className: \"upload-file\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Username:\"), /*#__PURE__*/React.createElement(\"p\", null, user.username || 'Not set')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Email:\"), /*#__PURE__*/React.createElement(\"p\", null, user.email || 'No email available', ' ', \"(\", /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"verified\"\n  }, \"\\u2705\"), \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Wallet Phantom:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: walletAddress,\n    onChange: handleWalletChange,\n    placeholder: \"Enter Phantom Wallet Address\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"18+ Confirmation:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: isAdult,\n    onChange: e => setIsAdult(e.target.checked)\n  }), ' ', \"I confirm that I am 18+\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Country:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: country,\n    onChange: e => setCountry(e.target.value),\n    placeholder: \"Enter your country\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"City:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: city,\n    onChange: e => setCity(e.target.value),\n    placeholder: \"Enter your city\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Phone Number:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: phoneNumber,\n    onChange: e => setPhoneNumber(e.target.value),\n    placeholder: \"Enter your phone number (optional)\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"label\", null, \"Notification Preferences:\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: notifyQuestUpdates,\n    onChange: e => setNotifyQuestUpdates(e.target.checked)\n  }), ' ', \"Quest Updates\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: notifyRewardAlerts,\n    onChange: e => setNotifyRewardAlerts(e.target.checked)\n  }), ' ', \"Reward Alerts\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-group\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSaveProfile,\n    className: \"btn\"\n  }, \"Save Profile\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    className: \"logout-button btn\"\n  }, \"Logout\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDeleteAccount,\n    className: \"delete-button btn\",\n    style: {\n      color: 'red'\n    }\n  }, \"Delete Account\")))));\n};\nmodule.exports = Profile;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwicHJlc2V0cyIsImV4dGVuc2lvbnMiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTmF2aWdhdGUiLCJQcm9maWxlIiwicHJvZmlsZVBpY3R1cmUiLCJzZXRQcm9maWxlUGljdHVyZSIsInByb2ZpbGVQaWN0dXJlRmlsZSIsInNldFByb2ZpbGVQaWN0dXJlRmlsZSIsIndhbGxldEFkZHJlc3MiLCJzZXRXYWxsZXRBZGRyZXNzIiwiY291bnRyeSIsInNldENvdW50cnkiLCJjaXR5Iiwic2V0Q2l0eSIsInBob25lTnVtYmVyIiwic2V0UGhvbmVOdW1iZXIiLCJpc0FkdWx0Iiwic2V0SXNBZHVsdCIsIm5vdGlmeVF1ZXN0VXBkYXRlcyIsInNldE5vdGlmeVF1ZXN0VXBkYXRlcyIsIm5vdGlmeVJld2FyZEFsZXJ0cyIsInNldE5vdGlmeVJld2FyZEFsZXJ0cyIsInVzZXIiLCJzZXRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJuYXZpZ2F0ZSIsImZldGNoVXNlckRhdGEiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwiY3VycmVudFVzZXIiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVMb2dvdXQiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiYWxlcnQiLCJoYW5kbGVEZWxldGVBY2NvdW50Iiwid2luZG93IiwiY29uZmlybSIsIl9pZCIsIm1ldGhvZCIsImhhbmRsZUltYWdlQ2hhbmdlIiwiZXZlbnQiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJoYW5kbGVXYWxsZXRDaGFuZ2UiLCJ2YWx1ZSIsImhhbmRsZVNhdmVQcm9maWxlIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImJvZHkiLCJoYW5kbGVMb2NrQWNjb3VudCIsImhhbmRsZVJlc2V0UGFzc3dvcmQiLCJoYW5kbGVTZXR1cDJGQSIsImhhbmRsZUFwcGx5S1lDIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJyb2xlIiwidXNlcm5hbWUiLCJmaXJzdE5hbWUiLCJzcmMiLCJhbHQiLCJ0eXBlIiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJlbWFpbCIsInBsYWNlaG9sZGVyIiwiY2hlY2tlZCIsImUiLCJzdHlsZSIsImNvbG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXFdlYnNpdGVcXEtZQ1xca3ljLXByb2plY3RcXHNlcnZlclxcIiwic291cmNlcyI6WyJzZXJ2ZXIuY2pzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLSBCYWJlbCByZWdpc3RlciBjb25maWd1cmF0aW9uIChEZXZlbG9wbWVudCBPbmx5KSAtLS1cclxucmVxdWlyZSgnQGJhYmVsL3JlZ2lzdGVyJykoe1xyXG4gIHByZXNldHM6IFsnQGJhYmVsL3ByZXNldC1yZWFjdCddLFxyXG4gIGV4dGVuc2lvbnM6IFsnLmpzJywgJy5qc3gnXVxyXG59KTtcclxuXHJcbi8vIFJlcGxhY2UgRVMgbW9kdWxlIGltcG9ydHMgd2l0aCBDb21tb25KUyByZXF1aXJlIHN0YXRlbWVudHNcclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5jb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSA9IFJlYWN0O1xyXG5jb25zdCB7IHVzZU5hdmlnYXRlIH0gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tJyk7XHJcbnJlcXVpcmUoJy4vcHJvZmlsZS5jc3MnKTsgLy8gTm90ZTogSW4gTm9kZSwgQ1NTIGlzbid0IHByb2Nlc3NlZCwgYnV0IHRoaXMgbGluZSByZW1haW5zIHBlciB5b3VyIHJlcXVlc3QuXHJcblxyXG5jb25zdCBQcm9maWxlID0gKCkgPT4ge1xyXG4gIC8vIEJhc2ljIHByb2ZpbGUgc3RhdGVzXHJcbiAgY29uc3QgW3Byb2ZpbGVQaWN0dXJlLCBzZXRQcm9maWxlUGljdHVyZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbcHJvZmlsZVBpY3R1cmVGaWxlLCBzZXRQcm9maWxlUGljdHVyZUZpbGVdID0gdXNlU3RhdGUobnVsbCk7IC8vIFN0b3JlIHRoZSBhY3R1YWwgZmlsZVxyXG4gIGNvbnN0IFt3YWxsZXRBZGRyZXNzLCBzZXRXYWxsZXRBZGRyZXNzXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbY291bnRyeSwgc2V0Q291bnRyeV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2NpdHksIHNldENpdHldID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtwaG9uZU51bWJlciwgc2V0UGhvbmVOdW1iZXJdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtpc0FkdWx0LCBzZXRJc0FkdWx0XSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gMTgrIGNvbmZpcm1hdGlvblxyXG4gIGNvbnN0IFtub3RpZnlRdWVzdFVwZGF0ZXMsIHNldE5vdGlmeVF1ZXN0VXBkYXRlc10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbbm90aWZ5UmV3YXJkQWxlcnRzLCBzZXROb3RpZnlSZXdhcmRBbGVydHNdID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xyXG5cclxuICAvLyBGZXRjaCB1c2VyIGRhdGEgZnJvbSB0aGUgQVBJXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoVXNlckRhdGEoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS91c2VycycpO1xyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHVzZXIgZGF0YScpO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgLy8gUGljayB0aGUgZmlyc3QgdXNlciBpZiBkYXRhIGlzIGFuIGFycmF5LCBvdGhlcndpc2UgdXNlIHRoZSByZXR1cm5lZCBvYmplY3RcclxuICAgICAgICBjb25zdCBjdXJyZW50VXNlciA9IEFycmF5LmlzQXJyYXkoZGF0YSkgJiYgZGF0YS5sZW5ndGggPiAwID8gZGF0YVswXSA6IGRhdGE7XHJcbiAgICAgICAgc2V0VXNlcihjdXJyZW50VXNlcik7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBkYXRhOicsIGVycm9yKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZmV0Y2hVc2VyRGF0YSgpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gUHJlLWZpbGwgZmllbGRzIHdoZW4gdXNlciBkYXRhIGlzIGF2YWlsYWJsZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICBzZXRXYWxsZXRBZGRyZXNzKHVzZXIud2FsbGV0QWRkcmVzcyB8fCAnJyk7XHJcbiAgICAgIHNldENvdW50cnkodXNlci5jb3VudHJ5IHx8ICcnKTtcclxuICAgICAgc2V0Q2l0eSh1c2VyLmNpdHkgfHwgJycpO1xyXG4gICAgICBzZXRQaG9uZU51bWJlcih1c2VyLnBob25lTnVtYmVyIHx8ICcnKTtcclxuICAgICAgc2V0SXNBZHVsdCh1c2VyLmlzQWR1bHQgfHwgZmFsc2UpO1xyXG4gICAgICAvLyBMb2FkIHRoZSBzdG9yZWQgcHJvZmlsZSBwaWN0dXJlIGlmIGF2YWlsYWJsZVxyXG4gICAgICBpZiAodXNlci5wcm9maWxlUGljdHVyZSkge1xyXG4gICAgICAgIHNldFByb2ZpbGVQaWN0dXJlKHVzZXIucHJvZmlsZVBpY3R1cmUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW3VzZXJdKTtcclxuXHJcbiAgLy8gQmFzaWMgYWNjb3VudCBhY3Rpb25zXHJcbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcclxuICAgIGFsZXJ0KCdMb2dnZWQgb3V0IHN1Y2Nlc3NmdWxseSEnKTtcclxuICAgIG5hdmlnYXRlKCcvbG9naW4nKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGVBY2NvdW50ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICB3aW5kb3cuY29uZmlybShcclxuICAgICAgICAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB5b3VyIGFjY291bnQ/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuJ1xyXG4gICAgICApXHJcbiAgICApIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3VzZXJzLyR7dXNlci5faWR9YCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgYWxlcnQoJ0FjY291bnQgZGVsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgICAgICAgICBuYXZpZ2F0ZSgnL3NpZ251cCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhbGVydCgnRmFpbGVkIHRvIGRlbGV0ZSBhY2NvdW50LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBhY2NvdW50OicsIGVycm9yKTtcclxuICAgICAgICBhbGVydCgnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZGVsZXRpbmcgeW91ciBhY2NvdW50LicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRmlsZS9pbWFnZSBoYW5kbGluZ1xyXG4gIGNvbnN0IGhhbmRsZUltYWdlQ2hhbmdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgaWYgKGZpbGUpIHtcclxuICAgICAgc2V0UHJvZmlsZVBpY3R1cmVGaWxlKGZpbGUpOyAvLyBTYXZlIHRoZSBhY3R1YWwgZmlsZVxyXG4gICAgICBzZXRQcm9maWxlUGljdHVyZShVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpKTsgLy8gRm9yIHByZXZpZXcgcHVycG9zZXNcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBXYWxsZXQgaW5wdXQgaGFuZGxpbmdcclxuICBjb25zdCBoYW5kbGVXYWxsZXRDaGFuZ2UgPSAoZXZlbnQpID0+IHNldFdhbGxldEFkZHJlc3MoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuXHJcbiAgLy8gU2F2ZS91cGRhdGUgcHJvZmlsZSBoYW5kbGVyIHVzaW5nIEZvcm1EYXRhXHJcbiAgY29uc3QgaGFuZGxlU2F2ZVByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBWYWxpZGF0ZSBtYW5kYXRvcnkgZmllbGRzXHJcbiAgICBpZiAoIWNvdW50cnkgfHwgIWNpdHkpIHtcclxuICAgICAgYWxlcnQoJ0NvdW50cnkgYW5kIENpdHkgYXJlIHJlcXVpcmVkLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzQWR1bHQpIHtcclxuICAgICAgYWxlcnQoJ1lvdSBtdXN0IGNvbmZpcm0gdGhhdCB5b3UgYXJlIDE4Ky4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzZSBGb3JtRGF0YSB0byBpbmNsdWRlIGJvdGggdGV4dCBhbmQgZmlsZSBkYXRhXHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCd3YWxsZXRBZGRyZXNzJywgd2FsbGV0QWRkcmVzcyk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvdW50cnknLCBjb3VudHJ5KTtcclxuICAgIGZvcm1EYXRhLmFwcGVuZCgnY2l0eScsIGNpdHkpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdwaG9uZU51bWJlcicsIHBob25lTnVtYmVyKTtcclxuICAgIGZvcm1EYXRhLmFwcGVuZCgnaXNBZHVsdCcsIGlzQWR1bHQpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdub3RpZnlRdWVzdFVwZGF0ZXMnLCBub3RpZnlRdWVzdFVwZGF0ZXMpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdub3RpZnlSZXdhcmRBbGVydHMnLCBub3RpZnlSZXdhcmRBbGVydHMpO1xyXG5cclxuICAgIGlmIChwcm9maWxlUGljdHVyZUZpbGUpIHtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdwcm9maWxlUGljdHVyZScsIHByb2ZpbGVQaWN0dXJlRmlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gTm90ZTogVXNpbmcgdXNlci5faWQgaGVyZSBlbnN1cmVzIGEgdmFsaWQgT2JqZWN0SWQgaXMgc2VudFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3VzZXJzLyR7dXNlci5faWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgYm9keTogZm9ybURhdGEsIC8vIE5vIG5lZWQgdG8gc2V0IENvbnRlbnQtVHlwZTsgYnJvd3NlciBzZXRzIGl0IGF1dG9tYXRpY2FsbHlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBhbGVydCgnUHJvZmlsZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhbGVydCgnRmFpbGVkIHRvIHVwZGF0ZSBwcm9maWxlLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBwcm9maWxlOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nIHlvdXIgcHJvZmlsZS4nKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBTZWN1cml0eSAmIEFudGktRnJhdWQ6IG1hbnVhbCBhY2NvdW50IGxvY2tcclxuICBjb25zdCBoYW5kbGVMb2NrQWNjb3VudCA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdXNlcnMvJHt1c2VyLl9pZH0vbG9ja2AsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJ1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgYWxlcnQoJ0FjY291bnQgaGFzIGJlZW4gbG9ja2VkLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0IHRvIHVubG9jay4nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhbGVydCgnRmFpbGVkIHRvIGxvY2sgYWNjb3VudC4nKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9ja2luZyBhY2NvdW50OicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIGxvY2tpbmcgeW91ciBhY2NvdW50LicpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFBsYWNlaG9sZGVyIGZvciBwYXNzd29yZCByZXNldFxyXG4gIGNvbnN0IGhhbmRsZVJlc2V0UGFzc3dvcmQgPSAoKSA9PiB7XHJcbiAgICBhbGVydCgnUGFzc3dvcmQgcmVzZXQgZnVuY3Rpb25hbGl0eSBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LicpO1xyXG4gIH07XHJcblxyXG4gIC8vIFBsYWNlaG9sZGVyIGZvciAyRkEgc2V0dXBcclxuICBjb25zdCBoYW5kbGVTZXR1cDJGQSA9ICgpID0+IHtcclxuICAgIGFsZXJ0KCcyRkEgc2V0dXAgZnVuY3Rpb25hbGl0eSBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LicpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFwcGx5S1lDID0gKCkgPT4ge1xyXG4gICAgYWxlcnQoJ0tZQyBhcHBsaWNhdGlvbiBmdW5jdGlvbmFsaXR5IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuJyk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKGxvYWRpbmcpIHJldHVybiA8cD5Mb2FkaW5nIHVzZXIgZGF0YS4uLjwvcD47XHJcbiAgaWYgKCF1c2VyKSByZXR1cm4gPHA+Tm8gdXNlciBkYXRhIGF2YWlsYWJsZS48L3A+O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXBhZ2VcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNsb3NlLWJ0blwiIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKCcvJyl9PlxyXG4gICAgICAgICAgPHNwYW4gcm9sZT1cImltZ1wiIGFyaWEtbGFiZWw9XCJjbG9zZVwiPuKdjDwvc3Bhbj5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPGgxPlByb2ZpbGU8L2gxPlxyXG4gICAgICAgIDxwPlxyXG4gICAgICAgICAgV2VsY29tZSwgPHN0cm9uZz57dXNlci51c2VybmFtZSB8fCB1c2VyLmZpcnN0TmFtZSB8fCAnVW5rbm93biBVc2VyJ308L3N0cm9uZz4hXHJcbiAgICAgICAgPC9wPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtZGV0YWlsc1wiPlxyXG4gICAgICAgICAgey8qIFByb2ZpbGUgUGljdHVyZSAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1waWN0dXJlXCI+XHJcbiAgICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgICBzcmM9e3Byb2ZpbGVQaWN0dXJlIHx8IHVzZXIucHJvZmlsZVBpY3R1cmUgfHwgJ2RlZmF1bHQtcHJvZmlsZS5wbmcnfVxyXG4gICAgICAgICAgICAgIGFsdD1cIlByb2ZpbGVcIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2ZpbGUtaW1nXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiaW1hZ2UvKlwiIG9uQ2hhbmdlPXtoYW5kbGVJbWFnZUNoYW5nZX0gY2xhc3NOYW1lPVwidXBsb2FkLWZpbGVcIiAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIEJhc2ljIFByb2ZpbGUgSW5mb3JtYXRpb24gKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+VXNlcm5hbWU6PC9sYWJlbD5cclxuICAgICAgICAgICAgPHA+e3VzZXIudXNlcm5hbWUgfHwgJ05vdCBzZXQnfTwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5FbWFpbDo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICB7dXNlci5lbWFpbCB8fCAnTm8gZW1haWwgYXZhaWxhYmxlJ317JyAnfVxyXG4gICAgICAgICAgICAgICg8c3BhbiByb2xlPVwiaW1nXCIgYXJpYS1sYWJlbD1cInZlcmlmaWVkXCI+4pyFPC9zcGFuPilcclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWluZm9cIj5cclxuICAgICAgICAgICAgPGxhYmVsPldhbGxldCBQaGFudG9tOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICB2YWx1ZT17d2FsbGV0QWRkcmVzc31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlV2FsbGV0Q2hhbmdlfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgUGhhbnRvbSBXYWxsZXQgQWRkcmVzc1wiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+MTgrIENvbmZpcm1hdGlvbjo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2lzQWR1bHR9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJc0FkdWx0KGUudGFyZ2V0LmNoZWNrZWQpfVxyXG4gICAgICAgICAgICAvPnsnICd9XHJcbiAgICAgICAgICAgIEkgY29uZmlybSB0aGF0IEkgYW0gMTgrXHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+Q291bnRyeTo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2NvdW50cnl9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDb3VudHJ5KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgY291bnRyeVwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+Q2l0eTo8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2NpdHl9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDaXR5KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgY2l0eVwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+UGhvbmUgTnVtYmVyOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICB2YWx1ZT17cGhvbmVOdW1iZXJ9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQaG9uZU51bWJlcihlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB5b3VyIHBob25lIG51bWJlciAob3B0aW9uYWwpXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBOb3RpZmljYXRpb24gUHJlZmVyZW5jZXMgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+Tm90aWZpY2F0aW9uIFByZWZlcmVuY2VzOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bm90aWZ5UXVlc3RVcGRhdGVzfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROb3RpZnlRdWVzdFVwZGF0ZXMoZS50YXJnZXQuY2hlY2tlZCl9XHJcbiAgICAgICAgICAgICAgLz57JyAnfVxyXG4gICAgICAgICAgICAgIFF1ZXN0IFVwZGF0ZXNcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bm90aWZ5UmV3YXJkQWxlcnRzfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROb3RpZnlSZXdhcmRBbGVydHMoZS50YXJnZXQuY2hlY2tlZCl9XHJcbiAgICAgICAgICAgICAgLz57JyAnfVxyXG4gICAgICAgICAgICAgIFJld2FyZCBBbGVydHNcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQWN0aW9ucyAmIFNldHRpbmdzICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tZ3JvdXBcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTYXZlUHJvZmlsZX0gY2xhc3NOYW1lPVwiYnRuXCI+XHJcbiAgICAgICAgICAgICAgU2F2ZSBQcm9maWxlXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0gY2xhc3NOYW1lPVwibG9nb3V0LWJ1dHRvbiBidG5cIj5cclxuICAgICAgICAgICAgICBMb2dvdXRcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlRGVsZXRlQWNjb3VudH0gY2xhc3NOYW1lPVwiZGVsZXRlLWJ1dHRvbiBidG5cIiBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX0+XHJcbiAgICAgICAgICAgICAgRGVsZXRlIEFjY291bnRcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBQcm9maWxlO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0FBLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0VBQ3pCQyxPQUFPLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQztFQUNoQ0MsVUFBVSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU07QUFDNUIsQ0FBQyxDQUFDOztBQUVGO0FBQ0EsTUFBTUMsS0FBSyxHQUFHSCxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCLE1BQU07RUFBRUksUUFBUTtFQUFFQztBQUFVLENBQUMsR0FBR0YsS0FBSztBQUNyQyxNQUFNO0VBQUVHO0FBQVksQ0FBQyxHQUFHTixPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDbkRBLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDOztBQUUxQixNQUFNTyxPQUFPLEdBQUdBLENBQUEsS0FBTTtFQUNwQjtFQUNBLE1BQU0sQ0FBQ0MsY0FBYyxFQUFFQyxpQkFBaUIsQ0FBQyxHQUFHTCxRQUFRLENBQUMsSUFBSSxDQUFDO0VBQzFELE1BQU0sQ0FBQ00sa0JBQWtCLEVBQUVDLHFCQUFxQixDQUFDLEdBQUdQLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFD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","map":{"version":3,"names":["require","presets","extensions","React","useState","useEffect","useNavigate","Profile","profilePicture","setProfilePicture","profilePictureFile","setProfilePictureFile","walletAddress","setWalletAddress","country","setCountry","city","setCity","phoneNumber","setPhoneNumber","isAdult","setIsAdult","notifyQuestUpdates","setNotifyQuestUpdates","notifyRewardAlerts","setNotifyRewardAlerts","user","setUser","loading","setLoading","navigate","fetchUserData","response","fetch","ok","Error","data","json","currentUser","Array","isArray","length","error","console","handleLogout","localStorage","removeItem","alert","handleDeleteAccount","window","confirm","_id","method","handleImageChange","event","file","target","files","URL","createObjectURL","handleWalletChange","value","handleSaveProfile","formData","FormData","append","body","handleLockAccount","handleResetPassword","handleSetup2FA","handleApplyKYC","createElement","className","onClick","role","username","firstName","src","alt","type","accept","onChange","email","placeholder","checked","e","style","color","module","exports"],"sourceRoot":"E:\\Website\\KYC\\kyc-project\\server\\","sources":["server.cjs"],"sourcesContent":["// --- Babel register configuration (Development Only) ---\r\nrequire('@babel/register')({\r\n  presets: ['@babel/preset-react'],\r\n  extensions: ['.js', '.jsx']\r\n});\r\n\r\n// Replace ES module imports with CommonJS require statements\r\nconst React = require('react');\r\nconst { useState, useEffect } = React;\r\nconst { useNavigate } = require('react-router-dom');\r\nrequire('./profile.css'); // Note: In Node, CSS isn't processed, but this line remains per your request.\r\n\r\nconst Profile = () => {\r\n  // Basic profile states\r\n  const [profilePicture, setProfilePicture] = useState(null);\r\n  const [profilePictureFile, setProfilePictureFile] = useState(null); // Store the actual file\r\n  const [walletAddress, setWalletAddress] = useState('');\r\n  const [country, setCountry] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [isAdult, setIsAdult] = useState(false); // 18+ confirmation\r\n  const [notifyQuestUpdates, setNotifyQuestUpdates] = useState(true);\r\n  const [notifyRewardAlerts, setNotifyRewardAlerts] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch user data from the API\r\n  useEffect(() => {\r\n    async function fetchUserData() {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/users');\r\n        if (!response.ok) throw new Error('Failed to fetch user data');\r\n        const data = await response.json();\r\n        // Pick the first user if data is an array, otherwise use the returned object\r\n        const currentUser = Array.isArray(data) && data.length > 0 ? data[0] : data;\r\n        setUser(currentUser);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  // Pre-fill fields when user data is available\r\n  useEffect(() => {\r\n    if (user) {\r\n      setWalletAddress(user.walletAddress || '');\r\n      setCountry(user.country || '');\r\n      setCity(user.city || '');\r\n      setPhoneNumber(user.phoneNumber || '');\r\n      setIsAdult(user.isAdult || false);\r\n      // Load the stored profile picture if available\r\n      if (user.profilePicture) {\r\n        setProfilePicture(user.profilePicture);\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  // Basic account actions\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    alert('Logged out successfully!');\r\n    navigate('/login');\r\n  };\r\n\r\n  const handleDeleteAccount = async () => {\r\n    if (\r\n      window.confirm(\r\n        'Are you sure you want to delete your account? This action cannot be undone.'\r\n      )\r\n    ) {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\r\n          method: 'DELETE'\r\n        });\r\n        if (response.ok) {\r\n          alert('Account deleted successfully.');\r\n          navigate('/signup');\r\n        } else {\r\n          alert('Failed to delete account.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting account:', error);\r\n        alert('An error occurred while deleting your account.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // File/image handling\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setProfilePictureFile(file); // Save the actual file\r\n      setProfilePicture(URL.createObjectURL(file)); // For preview purposes\r\n    }\r\n  };\r\n\r\n  // Wallet input handling\r\n  const handleWalletChange = (event) => setWalletAddress(event.target.value);\r\n\r\n  // Save/update profile handler using FormData\r\n  const handleSaveProfile = async () => {\r\n    // Validate mandatory fields\r\n    if (!country || !city) {\r\n      alert('Country and City are required.');\r\n      return;\r\n    }\r\n    if (!isAdult) {\r\n      alert('You must confirm that you are 18+.');\r\n      return;\r\n    }\r\n\r\n    // Use FormData to include both text and file data\r\n    const formData = new FormData();\r\n    formData.append('walletAddress', walletAddress);\r\n    formData.append('country', country);\r\n    formData.append('city', city);\r\n    formData.append('phoneNumber', phoneNumber);\r\n    formData.append('isAdult', isAdult);\r\n    formData.append('notifyQuestUpdates', notifyQuestUpdates);\r\n    formData.append('notifyRewardAlerts', notifyRewardAlerts);\r\n\r\n    if (profilePictureFile) {\r\n      formData.append('profilePicture', profilePictureFile);\r\n    }\r\n\r\n    try {\r\n      // Note: Using user._id here ensures a valid ObjectId is sent\r\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}`, {\r\n        method: 'PUT',\r\n        body: formData, // No need to set Content-Type; browser sets it automatically\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Profile updated successfully!');\r\n      } else {\r\n        alert('Failed to update profile.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      alert('An error occurred while updating your profile.');\r\n    }\r\n  };\r\n\r\n  // Security & Anti-Fraud: manual account lock\r\n  const handleLockAccount = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${user._id}/lock`, {\r\n        method: 'POST'\r\n      });\r\n      if (response.ok) {\r\n        alert('Account has been locked. Please contact support to unlock.');\r\n      } else {\r\n        alert('Failed to lock account.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error locking account:', error);\r\n      alert('An error occurred while locking your account.');\r\n    }\r\n  };\r\n\r\n  // Placeholder for password reset\r\n  const handleResetPassword = () => {\r\n    alert('Password reset functionality is not implemented yet.');\r\n  };\r\n\r\n  // Placeholder for 2FA setup\r\n  const handleSetup2FA = () => {\r\n    alert('2FA setup functionality is not implemented yet.');\r\n  };\r\n\r\n  const handleApplyKYC = () => {\r\n    alert('KYC application functionality is not implemented yet.');\r\n  };\r\n\r\n  if (loading) return <p>Loading user data...</p>;\r\n  if (!user) return <p>No user data available.</p>;\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <div className=\"profile-container\">\r\n        <span className=\"close-btn\" onClick={() => navigate('/')}>\r\n          <span role=\"img\" aria-label=\"close\"></span>\r\n        </span>\r\n        <h1>Profile</h1>\r\n        <p>\r\n          Welcome, <strong>{user.username || user.firstName || 'Unknown User'}</strong>!\r\n        </p>\r\n\r\n        <div className=\"profile-details\">\r\n          {/* Profile Picture */}\r\n          <div className=\"profile-picture\">\r\n            <img\r\n              src={profilePicture || user.profilePicture || 'default-profile.png'}\r\n              alt=\"Profile\"\r\n              className=\"profile-img\"\r\n            />\r\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} className=\"upload-file\" />\r\n          </div>\r\n\r\n          {/* Basic Profile Information */}\r\n          <div className=\"user-info\">\r\n            <label>Username:</label>\r\n            <p>{user.username || 'Not set'}</p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Email:</label>\r\n            <p>\r\n              {user.email || 'No email available'}{' '}\r\n              (<span role=\"img\" aria-label=\"verified\"></span>)\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Wallet Phantom:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={walletAddress}\r\n              onChange={handleWalletChange}\r\n              placeholder=\"Enter Phantom Wallet Address\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>18+ Confirmation:</label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={isAdult}\r\n              onChange={(e) => setIsAdult(e.target.checked)}\r\n            />{' '}\r\n            I confirm that I am 18+\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Country:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n              placeholder=\"Enter your country\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>City:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n              placeholder=\"Enter your city\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Phone Number:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={phoneNumber}\r\n              onChange={(e) => setPhoneNumber(e.target.value)}\r\n              placeholder=\"Enter your phone number (optional)\"\r\n            />\r\n          </div>\r\n\r\n          {/* Notification Preferences */}\r\n          <div className=\"user-info\">\r\n            <label>Notification Preferences:</label>\r\n            <div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={notifyQuestUpdates}\r\n                onChange={(e) => setNotifyQuestUpdates(e.target.checked)}\r\n              />{' '}\r\n              Quest Updates\r\n            </div>\r\n            <div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={notifyRewardAlerts}\r\n                onChange={(e) => setNotifyRewardAlerts(e.target.checked)}\r\n              />{' '}\r\n              Reward Alerts\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions & Settings */}\r\n          <div className=\"button-group\">\r\n            <button onClick={handleSaveProfile} className=\"btn\">\r\n              Save Profile\r\n            </button>\r\n            <button onClick={handleLogout} className=\"logout-button btn\">\r\n              Logout\r\n            </button>\r\n            <button onClick={handleDeleteAccount} className=\"delete-button btn\" style={{ color: 'red' }}>\r\n              Delete Account\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nmodule.exports = Profile;\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1739615786367}}